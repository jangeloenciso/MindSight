{% extends "components/base.html" %} {% block title %} Mindsight - Analytics{%
endblock %} {% block styles %}
<link rel="stylesheet" href="/static/css/analytics.css" />
{% endblock %} {% block content %}
<div class="right">
  <div class="main-content">
    <span id="analytics">Analytics</span>
    <div class="semester-content">
      <div class="semester-left">
        <div class="first-Semester">
          <select id="first-semester">
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>
            <option value="2024">2024</option>
          </select>
        </div>
        <div class="compare">
          <img src="/static/compare.png" />
        </div>
        <div class="second-semester">
          <select id="second-semester">
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>
            <option value="2024">2024</option>
          </select>
        </div>
      </div>
      <div class="metrics-button">
        <a href="{{ url_for ('metrics') }}">
          <button class="metrics">In-depth Analysis</button>
        </a>
      </div>
    </div>

    <div class="analytics-container">
      <section class="col-1">
        <article>
          <!-- Experience container -->
          <p>Experiences</p>
          <table>
            <thead>
              <tr>
                <th colspan="2">
                  <span class="header-number experiences-value-1">18</span> <br /><span
                    class="header-sub-text experiences-property-1"
                    >Bad or unwanted thoughts</span
                  >
                </th>
                <th colspan="2">
                  <span class="header-number experiences-value-2">18</span> <br /><span
                    class="header-sub-text experiences-property-2"
                    >Feelings of frustration</span
                  >
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="experiences-property-1">left text</td>
                <td class="experiences-value-1 value-column">00</td>
                <td class="experiences-value-2 value-column">00</td>
                <td class="experiences-property-2">right text</td>
              </tr>

              <tr>
                <td class="experiences-property-1">left text</td>
                <td class="experiences-value-1 value-column">00</td>
                <td class="experiences-value-2 value-column">00</td>
                <td class="experiences-property-2">right text</td>
              </tr>

              <tr>
                <td class="experiences-property-1">left text</td>
                <td class="experiences-value-1 value-column">00</td>
                <td class="experiences-value-2 value-column">00</td>
                <td class="experiences-property-2">right text</td>
              </tr>
              <tr>
                <td class="experiences-property-1">left text</td>
                <td class="experiences-value-1 value-column">00</td>
                <td class="experiences-value-2 value-column">00</td>
                <td class="experiences-property-2">right text</td>
              </tr>
              <tr>
                <td class="experiences-property-1">left text</td>
                <td class="experiences-value-1 value-column">00</td>
                <td class="experiences-value-2 value-column">00</td>
                <td class="experiences-property-2">right text</td>
              </tr>
              <tr>
                <td class="experiences-property-1">left text</td>
                <td class="experiences-value-1 value-column">00</td>
                <td class="experiences-value-2 value-column">00</td>
                <td class="experiences-property-2">right text</td>
              </tr>
              <tr>
                <td class="experiences-property-1">left text</td>
                <td class="experiences-value-1 value-column">00</td>
                <td class="experiences-value-2 value-column">00</td>
                <td class="experiences-property-2">right text</td>
              </tr>
              <tr>
                <td class="experiences-property-1">left text</td>
                <td class="experiences-value-1 value-column">00</td>
                <td class="experiences-value-2 value-column">00</td>
                <td class="experiences-property-2">right text</td>
              </tr>

              <tr>
                <td class="experiences-property-1">left text</td>
                <td class="experiences-value-1 value-column">00</td>
                <td class="experiences-value-2 value-column">00</td>
                <td class="experiences-property-2">right text</td>
              </tr>

              <!-- NOTE: this is the format for new table rows -->

              <!-- <tr>
                <td>left text</td>
                <td class="value-column">00</td>
                <td class="value-column">00</td>
                <td>right text</td>
              </tr> -->
            </tbody>
          </table>
        </article>
        <article>
          <!-- Concern container -->
          <p>Concern</p>
          <table>
            <thead>
              <tr>
                <th colspan="2">
                  <span class="header-number nature-value-1">18</span> <br /><span
                    class="header-sub-text nature-property-1"
                    >Personal</span
                  >
                </th>
                <th colspan="2">
                  <span class="header-number nature-value-2">18</span> <br /><span
                    class="header-sub-text nature-property-2"
                    >Academic</span
                  >
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="nature-property-1">left text</td>
                <td class="nature-value-1 value-column">00</td>
                <td class="nature-value-2 value-column">00</td>
                <td class="nature-property-2">right text</td>
              </tr>

              <tr>
                <td class="nature-property-1">left text</td>
                <td class="nature-value-1 value-column">00</td>
                <td class="nature-value-2 value-column">00</td>
                <td class="nature-property-2">right text</td>
              </tr>

              <tr>
                <td class="nature-property-1">left text</td>
                <td class="nature-value-1 value-column">00</td>
                <td class="nature-value-2 value-column">00</td>
                <td class="nature-property-2">right text</td>
              </tr>

              <!-- NOTE: this is the format for new table rows -->

              <!-- <tr>
                <td>left text</td>
                <td class="value-column">00</td>
                <td class="value-column">00</td>
                <td>right text</td>
              </tr> -->
            </tbody>
          </table>
        </article>
      </section>
      <section class="col-2">
        <article>
          <!-- Levels container -->
          <p>Levels</p>
          <table>
            <thead>
              <tr>
                <th colspan="2">
                  <span class="header-number levels-value-1">18</span> <br /><span
                    class="header-sub-text levels-property-1"
                    >CEA</span
                  >
                </th>
                <th colspan="2">
                  <span class="header-number levels-value-2">18</span> <br /><span
                    class="header-sub-text levels-property-2"
                    >IHK</span
                  >
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="levels-property-1">left text</td>
                <td class="levels-value-1 value-column">00</td>
                <td class="levels-value-2 value-column">00</td>
                <td class="levels-property-2">right text</td>
              </tr>

              <tr>
                <td class="levels-property-1">left text</td>
                <td class="levels-value-1 value-column">00</td>
                <td class="levels-value-2 value-column">00</td>
                <td class="levels-property-2">right text</td>
              </tr>

              <tr>
                <td class="levels-property-1">left text</td>
                <td class="levels-value-1 value-column">00</td>
                <td class="levels-value-2 value-column">00</td>
                <td class="levels-property-2">right text</td>
              </tr>

              <tr>
                <td class="levels-property-1">left text</td>
                <td class="levels-value-1 value-column">00</td>
                <td class="levels-value-2 value-column">00</td>
                <td class="levels-property-2">right text</td>
              </tr>

              <tr>
                <td class="levels-property-1">left text</td>
                <td class="levels-value-1 value-column">00</td>
                <td class="levels-value-2 value-column">00</td>
                <td class="levels-property-2">right text</td>
              </tr>

              <tr>
                <td class="levels-property-1">left text</td>
                <td class="levels-value-1 value-column">00</td>
                <td class="levels-value-2 value-column">00</td>
                <td class="levels-property-2">right text</td>
              </tr>

              <tr>
                <td class="levels-property-1">left text</td>
                <td class="levels-value-1 value-column">00</td>
                <td class="levels-value-2 value-column">00</td>
                <td class="levels-property-2">right text</td>
              </tr>
              <!-- NOTE: this is the format for new table rows -->

              <!-- <tr>
                <td>left text</td>
                <td class="value-column">00</td>
                <td class="value-column">00</td>
                <td>right text</td>
              </tr> -->
            </tbody>
          </table>
        </article>
        <article>
          <!-- Campus container -->
          <p>Campus</p>
          <table>
            <thead>
              <tr>
                <th colspan="2">
                  <span class="header-number campus-value-1">18</span> <br /><span
                    class="header-sub-text campus-property-1"
                    >Pasig</span
                  >
                </th>
                <th colspan="2">
                  <span class="header-number campus-value-2">18</span> <br /><span
                    class="header-sub-text campus-property-2"
                    >Boni</span
                  >
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="campus-property-1">left text</td>
                <td class="campus-value-1 value-column">00</td>
                <td class="campus-value-2 value-column">00</td>
                <td class="campus-property-2">right text</td>
              </tr>
            </tbody>
          </table>
        </article>
        <article>
          <!-- Identity container -->
          <p>Identity</p>
          <table>
            <thead>
              <tr>
                <th colspan="2">
                  <span class="header-number identity-value-1">18</span> <br /><span
                    class="header-sub-text identity-property-1"
                    >Female</span
                  >
                </th>
                <th colspan="2">
                  <span class="header-number identity-value-2">18</span> <br /><span
                    class="header-sub-text identity-property-2"
                    >Male</span
                  >
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="identity-property-1">left text</td>
                <td class="identity-value-1 value-column">00</td>
                <td class="identity-value-2 value-column">00</td>
                <td class="identity-property-2">right text</td>
              </tr>

              <tr>
                <td class="identity-property-1">left text</td>
                <td class="identity-value-1 value-column">00</td>
                <td class="identity-value-2 value-column">00</td>
                <td class="identity-property-2">right text</td>
              </tr>
            </tbody>
          </table>
        </article>
      </section>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='javascript/cdn/chartjs.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/analytics.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/analytics2.js') }}"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Attach event listeners to both select elements
    document
      .getElementById("first-semester")
      .addEventListener("change", function () {
        console.log("changed");
        updateCharts();
      });

    document
      .getElementById("second-semester")
      .addEventListener("change", function () {
        updateCharts();
      });

    // Fetch and generate charts initially
    updateCharts();
  });

  function updateCharts() {
    let selectedYear1 = document.getElementById("first-semester").value;
    let selectedYear2 = document.getElementById("second-semester").value;

    // Log the selected years for testing
    console.log("Selected Year 1:", selectedYear1);
    console.log("Selected Year 2:", selectedYear2);

    fetchData(1, selectedYear1, selectedYear2);
    fetchData(2, selectedYear1, selectedYear2);
    fetchData(3, selectedYear1, selectedYear2);
    fetchData(4, selectedYear1, selectedYear2);
    fetchData(5, selectedYear1, selectedYear2);
  }
</script>
{% endblock %}
